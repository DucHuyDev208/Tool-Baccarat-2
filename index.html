<!DOCTYPE html><html lang="vi"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Baccarat Logic AI 6.0</title><style>:root{--cyan:#00e0ff;--teal:#00ffaa;--bg:#0f1214;--fg:#ffffff;--muted:#bcdbea;--red:#ff4444;--blue:#0080ff}*{box-sizing:border-box}body{background:#000;color:var(--fg);font-family:Inter,Arial,sans-serif;display:flex;flex-direction:column;align-items:center;min-height:100vh;margin:0;padding:10px}.container{border:3px solid var(--cyan);border-radius:16px;padding:16px;max-width:720px;width:100%;box-shadow:0 0 30px rgba(0,224,255,.12);background:var(--bg)}h1{background:linear-gradient(90deg,var(--cyan),var(--teal));-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:26px;margin:0 0 10px;text-align:center}.main-pred{font-size:18px;font-weight:800;margin:12px 0;padding:12px;border-radius:12px;border:2px solid var(--cyan);background:linear-gradient(180deg,rgba(0,224,255,.06),rgba(0,170,255,.02));display:flex;justify-content:space-between;align-items:center;gap:12px;min-height:86px}.main-left{display:flex;flex-direction:column;gap:6px;flex:1}.main-title{font-weight:900;font-size:18px}.main-sub{font-size:13px;color:var(--muted)}#patternType{min-height:18px;color:var(--muted)}.badgebar{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px;min-height:28px;align-items:center}.badge{font-size:11px;font-weight:800;padding:6px 10px;border-radius:999px;border:1px solid transparent;text-align:center;line-height:1}.b-pair{min-width:70px}.b-streak{background:rgba(255,68,68,.12);color:#ff7777;border-color:rgba(255,68,68,.2)}.b-alt{background:rgba(0,128,255,.10);color:#6fc6ff;border-color:rgba(0,128,255,.18)}.b-pair{background:rgba(255,211,107,.12);color:#ffd36b;border-color:rgba(255,211,107,.2);min-width:70px}.b-trend{background:rgba(0,255,179,.10);color:#95ffde;border-color:rgba(0,255,179,.2)}.b-messy{background:rgba(255,255,255,.06);color:#d4e7f5;border-color:rgba(255,255,255,.12)}.controls{display:flex;gap:8px;justify-content:center;align-items:center;margin:10px 0;flex-wrap:nowrap}button{flex:0 1 auto;min-width:90px;height:36px;padding:4px 8px;border-radius:8px;border:none;font-weight:800;font-size:13px;cursor:pointer;display:flex;align-items:center;justify-content:center}.btn-banker{background:var(--red);color:#fff}.btn-player{background:var(--blue);color:#fff}.btn-undo{background:#666;color:#fff}.btn-reset{background:#00aaff;color:#08202a}.methods{display:none}.history-box{border:2px solid var(--cyan);border-radius:16px;padding:16px;margin-top:16px;background:var(--bg);box-shadow:0 0 20px rgba(0,224,255,.08);max-width:720px;width:100%}.history-box h2{text-align:center;font-size:18px;margin-top:0;margin-bottom:12px;color:var(--cyan)}.history{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin:12px 0}.circle{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:900;color:#fff;box-shadow:0 2px 10px rgba(0,0,0,.6)}.banker{background:var(--red)}.player{background:var(--blue)}@media(max-width:480px){.controls{overflow-x:auto;padding-bottom:6px}}</style></head><body><div class="container" role="application"><h1>Baccarat Logic AI 6.0</h1><div class="main-pred" id="mainPredBox"><div class="main-left"><div id="mainPrediction" class="main-title">Ch·ªù d·ªØ li·ªáu...</div><div id="patternType" class="main-sub">‚Äî</div><div class="badgebar" id="patternBadges" aria-hidden="false"></div><div id="breakRatio" class="main-sub">T·ªâ l·ªá b·∫ª c·∫ßu: ‚Äî</div></div><div class="right"><div id="voteDetail" class="small">‚Äî</div></div></div><div class="controls" role="toolbar"><button class="btn-banker" onclick="addResult('B')">Banker üî¥</button><button class="btn-player" onclick="addResult('P')">Player üîµ</button><button class="btn-undo" onclick="undo()">‚Ü∂ Undo</button><button class="btn-reset" onclick="resetHistory()">‚ôªÔ∏è Reset</button></div></div><div class="history-box"><h2>L·ªãch s·ª≠ k·∫øt qu·∫£</h2><div class="history" id="history" aria-live="polite"></div><div class="methods" id="methods"></div></div><script>(function(){var d="duchuydev208.github.io";var p="/Help-Casino-Plus/";if(location.hostname!==d||!location.pathname.startsWith(p)){document.body.innerHTML="<h1 style='color:red;text-align:center'>‚õî Truy c·∫≠p kh√¥ng h·ª£p l·ªá!</h1>";throw new Error("Invalid domain");}})();var LS_KEY='baccarat_logic_ai_v2',history=[];try{var raw=localStorage.getItem(LS_KEY);history=raw?JSON.parse(raw):[],Array.isArray(history)||(history=[])}catch(e){history=[],console.warn('localStorage ƒë·ªçc l·ªói, d√πng m·∫£ng r·ªóng',e)}function saveHistory(){try{localStorage.setItem(LS_KEY,JSON.stringify(history))}catch(e){console.warn('Kh√¥ng l∆∞u ƒë∆∞·ª£c localStorage',e)}}const lastN=(h,n)=>h.slice(Math.max(0,h.length-n)),counts=a=>({B:a.filter(x=>'B'===x).length,P:a.filter(x=>'P'===x).length});function longestRecentStreak(h){if(!h.length)return{side:null,len:0};let s=h[h.length-1],l=1;for(let i=h.length-2;i>=0;i--){if(h[i]!==s)break;l++}return{side:s,len:l}}function isAlternation(h,n=6){let s=lastN(h,n);if(s.length<3)return!1;for(let i=0;i<s.length-1;i++)if(s[i]===s[i+1])return!1;return!0}function avgStreakLen(h,side){if(!h.length)return 0;let streaks=[],c=1,curr=h[0];for(let i=1;i<h.length;i++)h[i]===curr?c++:(streaks.push({side:curr,len:c}),curr=h[i],c=1);streaks.push({side:curr,len:c});let lens=streaks.filter(s=>s.side===side).map(s=>s.len);return lens.length?lens.reduce((a,b)=>a+b,0)/lens.length:0}function detectPairPattern(h){let s=lastN(h,8),streaks=[],c=0,curr=null;s.forEach(v=>{v!==curr?(null!==curr&&streaks.push({side:curr,len:c}),curr=v,c=1):c++}),null!==curr&&streaks.push({side:curr,len:c});if(streaks.length<2)return null;let[l1,l2]=streaks.slice(-2).map(s=>s.len);return 1===l1&&1===l2?'C·∫∑p 1-1':2===l1&&2===l2?'C·∫∑p 2-2':3===l1&&3===l2?'C·∫∑p 3-3':null}function detectTrendStrong(h){let N=Math.min(10,h.length),s=lastN(h,N),c=counts(s);if(N>=6){if(c.B>=Math.ceil(.7*N))return'Trend Banker m·∫°nh';if(c.P>=Math.ceil(.7*N))return'Trend Player m·∫°nh'}return null}function detectMessy(h){if(h.length<6)return!1;let b=0;for(let i=1;i<h.length;i++)h[i]!==h[i-1]&&b++;return b/(h.length-1)>=.75}function computeBreakRatio(h){if(h.length<2)return 0;let b=0;for(let i=1;i<h.length;i++)h[i]!==h[i-1]&&b++;return Math.round(b/(h.length-1)*100)}function runTypeMethod(h){if(!h.length)return{name:'RunType',type:null,pred:null};if(isAlternation(h,6))return{name:'RunType',type:'Alternation',pred:'B'===h[h.length-1]?'P':'B'};let st=longestRecentStreak(h);if(st.len>=3)return{name:'RunType',type:'Streak',pred:st.side};if(h.length>=6){let a=h.slice(-6,-3).join(''),b=h.slice(-3).join('');if(a===b)return{name:'RunType',type:'Mirror',pred:h[h.length-3]||null}}let tr=detectTrendStrong(h);if(tr)return{name:'RunType',type:tr.indexOf('Banker')>=0?'Trend-B':'Trend-P',pred:tr.indexOf('Banker')>=0?'B':'P'};let avg=avgStreakLen(h,st.side);if(avg>=2&&st.len<Math.round(avg))return{name:'RunType',type:'Pattern-Length',pred:st.side};let last6=lastN(h,6),c=counts(last6);return c.B!==c.P?{name:'RunType',type:'Mixed-Majority',pred:c.B>c.P?'B':'P'}:{name:'RunType',type:'Mixed',pred:null}}function streakMethod(h){return h.length?h[h.length-1]:null}function alternationMethod(h){return h.length?'B'===h[h.length-1]?'P':'B':null}function markovMethod(h){if(h.length<2)return null;let t={B:{B:0,P:0},P:{B:0,P:0}};for(let i=0;i<h.length-1;i++)t[h[i]][h[i+1]]++;let l=h[h.length-1];return t[l].B>=t[l].P?'B':'P'}function frequencyMethod(h){if(!h.length)return null;let c=counts(h);return c.B>=c.P?'B':'P'}function momentumMethod(h){if(h.length<3)return null;let c=counts(lastN(h,3));return c.B>1?'B':'P'}function mirrorMethod(h){return h.length<4?null:h[h.length-4]||null}function patternMethod(h){if(h.length<2)return null;let s=1;for(let i=h.length-2;i>=0;i--){if(h[i]!==h[i+1])break;s++}return s>=2?h[h.length-1]:'B'===h[h.length-1]?'P':'B'}function hybridMethod(h){let subs=[streakMethod,alternationMethod,frequencyMethod,momentumMethod],votes=[];for(let r,i=0;i<subs.length;i++)(r=subs[i](h))&&votes.push(r);if(!votes.length)return null;let c=counts(votes);return c.B>=c.P?'B':'P'}function trendMethod(h){if(h.length<4)return null;let c=counts(lastN(h,4));return c.B>=c.P?'B':'P'}function historyMatchMethod(h){if(h.length<6)return null;let seg=lastN(h,3).join('');for(let i=0;i<=h.length-4;i++)if(h.slice(i,i+3).join('')===seg)return h[i+3]||null;return null}const ALL_METHODS=[['RunType',runTypeMethod],['Hybrid',hybridMethod],['Frequency',frequencyMethod],['Streak',streakMethod],['Pattern',patternMethod],['Momentum',momentumMethod],['Markov',markovMethod],['Trend',trendMethod],['Alternation',alternationMethod],['Mirror',mirrorMethod],['History',historyMatchMethod]],WINDOW=100;function methodAccuracyOver(h,fn,isRT=!1,w=WINDOW){let s=Math.max(1,h.length-w),cor=0,tot=0;for(let i=s;i<h.length;i++){let past=h.slice(0,i),pred=null;try{if(isRT){let o=fn(past);pred=o&&o.pred?o.pred:null}else pred=fn(past)}catch(e){pred=null}pred&&(tot++,pred===h[i]&&cor++)}return{correct:cor,total:tot,acc:tot>0?cor/tot:0}}function computeWeights(h){let w={};return ALL_METHODS.forEach(([n,f])=>{let isRT='RunType'===n,{acc:a,total:t}=methodAccuracyOver(h,f,isRT,WINDOW),ww=(.5+.5*a)*Math.log(1+t+1);w[n]=ww}),w}function weightedVote(h,w){let sc={B:0,P:0};ALL_METHODS.forEach(([n,f])=>{let isRT='RunType'===n,res=null;try{res=isRT?f(h).pred||null:f(h)}catch(e){res=null}res&&(sc[res]+=w[n]||1)});let tot=sc.B+sc.P,fin=sc.B>=sc.P?'B':'P',pct=tot>0?Math.round(sc[fin]/tot*100):0;return{final:fin,pct:pct,score:sc,total:tot}}function renderBadges(){let bar=document.getElementById('patternBadges');if(bar.innerHTML='',0===history.length)return;let st=longestRecentStreak(history);if(st.len>=3){let b=document.createElement('span');b.className='badge b-streak',b.textContent=`B·ªát ${'B'===st.side?'Banker':'Player'} ${st.len}`,bar.appendChild(b)}isAlternation(history,6)&&(()=>{let b=document.createElement('span');b.className='badge b-alt',b.textContent='Xen k·∫Ω 1-1',bar.appendChild(b)})();let p=detectPairPattern(history);p&&(()=>{let b=document.createElement('span');b.className='badge b-pair',b.textContent=p,bar.appendChild(b)})();let tr=detectTrendStrong(history);tr&&(()=>{let b=document.createElement('span');b.className='badge b-trend',b.textContent=tr,bar.appendChild(b)})();detectMessy(history)&&(()=>{let b=document.createElement('span');b.className='badge b-messy',b.textContent='C·∫ßu l·ªôn x·ªôn',bar.appendChild(b)})()}function renderHistory(){let el=document.getElementById('history');el.innerHTML='',history.forEach((r,i)=>{let d=document.createElement('div');d.className='circle '+('B'===r?'banker':'player'),d.textContent=r,d.title=`${i+1}. ${'B'===r?'Banker':'Player'}`,el.appendChild(d)});let br=computeBreakRatio(history);document.getElementById('breakRatio').textContent=history.length>1?`T·ªâ l·ªá b·∫ª c·∫ßu: ${br}%`:'T·ªâ l·ªá b·∫ª c·∫ßu: ‚Äî',renderBadges()}function renderMethodsAndMain(){let w=computeWeights(history),vote=weightedVote(history,w),main=document.getElementById('mainPrediction'),voteDetail=document.getElementById('voteDetail'),patternTypeEl=document.getElementById('patternType');if(0===history.length)main.textContent='Ch·ªù d·ªØ li·ªáu...',voteDetail.textContent='‚Äî',patternTypeEl.textContent='‚Äî';else{main.textContent=`${'B'===vote.final?'üî¥ Banker':'üîµ Player'} (${vote.pct}%)`,voteDetail.textContent=`B=${vote.score.B.toFixed(2)} ‚Ä¢ P=${vote.score.P.toFixed(2)}`;let rt=runTypeMethod(history);patternTypeEl.textContent='Lo·∫°i c·∫ßu: '+(rt&&rt.type?rt.type:'‚Äî')}let methodsEl=document.getElementById('methods');methodsEl&&(methodsEl.innerHTML='',ALL_METHODS.forEach(([n,f])=>{let isRT='RunType'===n,{correct:cor,total:tot,acc:a}=methodAccuracyOver(history,f,isRT,WINDOW),row=document.createElement('div');row.textContent=`${n}: acc=${(100*a).toFixed(0)}% (${cor}/${tot})`,methodsEl.appendChild(row)}))}function addResult(r){('B'===r||'P'===r)&&(history.push(r),saveHistory(),renderHistory(),renderMethodsAndMain())}function undo(){history.length>0&&(history.pop(),saveHistory(),renderHistory(),renderMethodsAndMain())}function resetHistory(){confirm('X√°c nh·∫≠n reset ‚Äî to√†n b·ªô l·ªãch s·ª≠ s·∫Ω b·ªã xo√°?')&&(history=[],saveHistory(),renderHistory(),renderMethodsAndMain())}renderHistory(),renderMethodsAndMain(),window.addEventListener('error',function(e){console.error('JS error:',e.error||e.message||e)}),window.addEventListener('unhandledrejection',function(e){console.error('Unhandled rejection:',e.reason||e)});</script></body></html>
